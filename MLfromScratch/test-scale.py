#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Wed Nov 15 21:21:36 2017

@author: nickfowler
"""
import math, random, proba, stat
import scaling_data as sd
from collections import Counter
import matplotlib.pyplot as plt
import numpy as np
import linalgbera as la
import gradient_descent as sgd

#data=[(49, 68.77), (41, 51.25), (40, 52.08), (25, 38.36), (21, 44.54), (21, 57.13), (19, 51.4), (19, 41.42), (18, 31.22), (18, 34.76), (16, 54.01), (15, 38.79), (15, 47.59), (15, 49.1), (15, 27.66), (14, 41.03), (14, 36.73), (13, 48.65), (13, 28.12), (13, 46.62), (13, 35.57), (12, 32.98), (12, 35), (11, 26.07), (10, 23.77), (10, 39.73), (10, 40.57), (10, 31.65), (10, 31.21), (10, 36.32), (10, 20.45), (10, 21.93), (10, 26.02), (10, 27.34), (10, 23.49), (10, 46.94), (10, 30.5), (10, 33.8), (10, 24.23), (9, 21.4), (9, 27.94), (9, 32.24), (9, 40.57), (9, 25.07), (9, 19.42), (9, 22.39), (9, 18.42), (9, 46.96), (9, 23.72), (9, 26.41), (9, 26.97), (9, 36.76), (9, 40.32), (9, 35.02), (9, 29.47), (9, 30.2), (9, 31), (8, 38.11), (8, 38.18), (8, 36.31), (8, 21.03), (8, 30.86), (8, 36.07), (8, 28.66), (8, 29.08), (8, 37.28), (8, 15.28), (8, 24.17), (8, 22.31), (8, 30.17), (7, 25.53), (7, 19.85), (7, 35.37), (7, 44.6), (7, 17.23), (7, 13.47), (7, 26.33), (7, 35.02), (7, 32.09), (7, 24.81), (7, 19.33), (7, 28.77), (7, 24.26), (7, 31.98), (7, 25.73), (6, 24.86), (6, 16.28), (6, 34.51), (6, 15.23), (6, 39.72), (6, 40.8), (6, 26.06), (6, 35.76), (6, 34.76), (6, 16.13), (6, 44.04), (6, 18.03), (6, 19.65), (6, 32.62), (6, 35.59), (6, 39.43), (6, 14.18), (6, 35.24), (6, 40.13), (6, 41.82), (6, 35.45), (6, 36.07), (5, 43.67), (5, 24.61), (5, 20.9), (5, 21.9), (5, 18.79), (5, 27.61), (5, 27.21), (5, 26.61), (5, 29.77), (5, 20.59), (5, 27.53), (5, 13.82), (5, 33.2), (5, 25), (5, 33.1), (5, 36.65), (5, 18.63), (4, 14.87), (4, 22.2), (4, 36.81), (4, 25.53), (4, 24.62), (4, 26.25), (4, 18.21), (4, 28.08), (4, 19.42), (4, 29.79), (4, 32.8), (4, 35.99), (4, 28.32), (4, 27.79), (4, 35.88), (4, 29.06), (4, 36.28), (4, 14.1), (4, 36.63), (4, 37.49), (3, 26.9), (3, 18.58), (3, 38.48), (3, 24.48), (3, 18.95), (3, 33.55), (3, 14.24), (3, 29.04), (3, 32.51), (3, 25.63), (3, 22.22), (3, 19), (3, 32.73), (3, 15.16), (3, 13.9), (3, 27.2), (3, 32.01), (3, 29.27), (3, 33), (3, 13.74), (2, 20.42), (2, 27.32), (2, 18.23), (2, 35.35), (2, 28.48), (2, 9.08), (2, 24.62), (2, 20.12), (2, 35.26), (2, 19.92), (2, 31.02), (2, 16.49), (2, 12.16), (2, 30.7), (2, 31.22), (2, 34.65), (2, 13.13), (1, 27.51), (1, 33.2), (1, 31.57), (1, 14.1), (1, 33.42), (1, 17.44), (1, 10.12), (1, 24.42), (1, 9.82), (1, 23.39), (1, 30.93), (1, 15.03), (1, 21.67), (1, 31.09), (1, 33.29), (1, 22.61), (1, 26.89), (1, 23.48), (1, 8.38), (1, 27.81), (1, 32.35), (1, 23.84)]
#string = str(data).replace('(','[').replace(')',']')

#data=[[49, 68.77], [41, 51.25], [40, 52.08], [25, 38.36], [21, 44.54], [21, 57.13], [19, 51.4], [19, 41.42], [18, 31.22], [18, 34.76], [16, 54.01], [15, 38.79], [15, 47.59], [15, 49.1], [15, 27.66], [14, 41.03], [14, 36.73], [13, 48.65], [13, 28.12], [13, 46.62], [13, 35.57], [12, 32.98], [12, 35], [11, 26.07], [10, 23.77], [10, 39.73], [10, 40.57], [10, 31.65], [10, 31.21], [10, 36.32], [10, 20.45], [10, 21.93], [10, 26.02], [10, 27.34], [10, 23.49], [10, 46.94], [10, 30.5], [10, 33.8], [10, 24.23], [9, 21.4], [9, 27.94], [9, 32.24], [9, 40.57], [9, 25.07], [9, 19.42], [9, 22.39], [9, 18.42], [9, 46.96], [9, 23.72], [9, 26.41], [9, 26.97], [9, 36.76], [9, 40.32], [9, 35.02], [9, 29.47], [9, 30.2], [9, 31], [8, 38.11], [8, 38.18], [8, 36.31], [8, 21.03], [8, 30.86], [8, 36.07], [8, 28.66], [8, 29.08], [8, 37.28], [8, 15.28], [8, 24.17], [8, 22.31], [8, 30.17], [7, 25.53], [7, 19.85], [7, 35.37], [7, 44.6], [7, 17.23], [7, 13.47], [7, 26.33], [7, 35.02], [7, 32.09], [7, 24.81], [7, 19.33], [7, 28.77], [7, 24.26], [7, 31.98], [7, 25.73], [6, 24.86], [6, 16.28], [6, 34.51], [6, 15.23], [6, 39.72], [6, 40.8], [6, 26.06], [6, 35.76], [6, 34.76], [6, 16.13], [6, 44.04], [6, 18.03], [6, 19.65], [6, 32.62], [6, 35.59], [6, 39.43], [6, 14.18], [6, 35.24], [6, 40.13], [6, 41.82], [6, 35.45], [6, 36.07], [5, 43.67], [5, 24.61], [5, 20.9], [5, 21.9], [5, 18.79], [5, 27.61], [5, 27.21], [5, 26.61], [5, 29.77], [5, 20.59], [5, 27.53], [5, 13.82], [5, 33.2], [5, 25], [5, 33.1], [5, 36.65], [5, 18.63], [4, 14.87], [4, 22.2], [4, 36.81], [4, 25.53], [4, 24.62], [4, 26.25], [4, 18.21], [4, 28.08], [4, 19.42], [4, 29.79], [4, 32.8], [4, 35.99], [4, 28.32], [4, 27.79], [4, 35.88], [4, 29.06], [4, 36.28], [4, 14.1], [4, 36.63], [4, 37.49], [3, 26.9], [3, 18.58], [3, 38.48], [3, 24.48], [3, 18.95], [3, 33.55], [3, 14.24], [3, 29.04], [3, 32.51], [3, 25.63], [3, 22.22], [3, 19], [3, 32.73], [3, 15.16], [3, 13.9], [3, 27.2], [3, 32.01], [3, 29.27], [3, 33], [3, 13.74], [2, 20.42], [2, 27.32], [2, 18.23], [2, 35.35], [2, 28.48], [2, 9.08], [2, 24.62], [2, 20.12], [2, 35.26], [2, 19.92], [2, 31.02], [2, 16.49], [2, 12.16], [2, 30.7], [2, 31.22], [2, 34.65], [2, 13.13], [1, 27.51], [1, 33.2], [1, 31.57], [1, 14.1], [1, 33.42], [1, 17.44], [1, 10.12], [1, 24.42], [1, 9.82], [1, 23.39], [1, 30.93], [1, 15.03], [1, 21.67], [1, 31.09], [1, 33.29], [1, 22.61], [1, 26.89], [1, 23.48], [1, 8.38], [1, 27.81], [1, 32.35], [1, 23.84]]
#data = [[1, 20, 2],
 #       [1, 30, 3],
  #      [1, 40, 4]]
X = [
    [20.9666776351559,-13.1138080189357],
    [22.7719907680008,-19.8890894944696],
    [25.6687103160153,-11.9956004517219],
    [18.0019794950564,-18.1989191165133],
    [21.3967402102156,-10.8893126308196],
    [0.443696899177716,-19.7221132386308],
    [29.9198322142127,-14.0958668502427],
    [19.0805843080126,-13.7888747608312],
    [16.4685063521314,-11.2612927034291],
    [21.4597664701884,-12.4740034586705],
    [3.87655283720532,-17.575162461771],
    [34.5713920556787,-10.705185165378],
    [13.3732115747722,-16.7270274494424],
    [20.7281704141919,-8.81165591556553],
    [24.839851437942,-12.1240962157419],
    [20.3019544741252,-12.8725060780898],
    [21.9021426929599,-17.3225432396452],
    [23.2285885715486,-12.2676568419045],
    [28.5749111681851,-13.2616470619453],
    [29.2957424128701,-14.6299928678996],
    [15.2495527798625,-18.4649714274207],
    [26.5567257400476,-9.19794350561966],
    [30.1934232346361,-12.6272709845971],
    [36.8267446011057,-7.25409849336718],
    [32.157416823084,-10.4729534347553],
    [5.85964365291694,-22.6573731626132],
    [25.7426190674693,-14.8055803854566],
    [16.237602636139,-16.5920595763719],
    [14.7408608850568,-20.0537715298403],
    [6.85907008242544,-18.3965586884781],
    [26.5918329233128,-8.92664811750842],
    [-11.2216019958228,-27.0519081982856],
    [8.93593745011035,-20.8261235122575],
    [24.4481258671796,-18.0324012215159],
    [2.82048515404903,-22.4208457598703],
    [30.8803004755948,-11.455358009593],
    [15.4586738236098,-11.1242825084309],
    [28.5332537090494,-14.7898744423126],
    [40.4830293441052,-2.41946428697183],
    [15.7563759125684,-13.5771266003795],
    [19.3635588851727,-20.6224770470434],
    [13.4212840786467,-19.0238227375766],
    [7.77570680426702,-16.6385739839089],
    [21.4865983854408,-15.290799330002],
    [12.6392705930724,-23.6433305964301],
    [12.4746151388128,-17.9720169566614],
    [23.4572410437998,-14.602080545086],
    [13.6878189833565,-18.9687408182414],
    [15.4077465943441,-14.5352487124086],
    [20.3356581548895,-10.0883159703702],
    [20.7093833689359,-12.6939091236766],
    [11.1032293684441,-14.1383848928755],
    [17.5048321498308,-9.2338593361801],
    [16.3303688220188,-15.1054735529158],
    [26.6929062710726,-13.306030567991],
    [34.4985678099711,-9.86199941278607],
    [39.1374291499406,-10.5621430853401],
    [21.9088956482146,-9.95198845621849],
    [22.2367457578087,-17.2200123442707],
    [10.0032784145577,-19.3557700653426],
    [14.045833906665,-15.871937521131],
    [15.5640911917607,-18.3396956121887],
    [24.4771926581586,-14.8715313479137],
    [26.533415556629,-14.693883922494],
    [12.8722580202544,-21.2750596021509],
    [24.4768291376862,-15.9592080959207],
    [18.2230748567433,-14.6541444069985],
    [4.1902148367447,-20.6144032528762],
    [12.4332594022086,-16.6079789231489],
    [20.5483758651873,-18.8512560786321],
    [17.8180560451358,-12.5451990696752],
    [11.0071081078049,-20.3938092335862],
    [8.30560561422449,-22.9503944138682],
    [33.9857852657284,-4.8371294974382],
    [17.4376502239652,-14.5095976075022],
    [29.0379635148943,-14.8461553663227],
    [29.1344666599319,-7.70862921632672],
    [32.9730697624544,-15.5839178785654],
    [13.4211493998212,-20.150199857584],
    [11.380538260355,-12.8619410359766],
    [28.672631499186,-8.51866271785711],
    [16.4296061111902,-23.3326051279759],
    [25.7168371582585,-13.8899296143829],
    [13.3185154732595,-17.8959160024249],
    [3.60832478605376,-25.4023343597712],
    [39.5445949652652,-11.466377647931],
    [25.1693484426101,-12.2752652925707],
    [25.2884257196471,-7.06710309184533],
    [6.77665715793125,-22.3947299635571],
    [20.1844223778907,-16.0427471125407],
    [25.5506805272535,-9.33856532270204],
    [25.1495682602477,-7.17350567090738],
    [15.6978431006492,-17.5979197162642],
    [37.42780451491,-10.843637288504],
    [22.974620174842,-10.6171162611686],
    [34.6327117468934,-9.26182440487384],
    [34.7042513789061,-6.9630753351114],
    [15.6563953929008,-17.2196961218915],
    [25.2049825789225,-14.1592086208169]
]
#sdata=sd.rescale(X)
sdata=sd.de_mean_matrix(X)
#print(sdata)

#x1,y1=zip(*X)
x,y=zip(*sdata)

plt.scatter(x,y)
#plt.scatter(x1,y1)
#print(sdata,x)
a=[[1,2],[3,4]]

#pc=sd.first_prin_com(sdata)
#print(pc)

#print(la.get_c(data,1))
#print(la.vec_mean(data))

pc1,pc2=sd.prin_com_ana(sdata, 2)
print(pc1,pc2)


